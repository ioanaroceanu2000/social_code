<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
  <head>
    <style>

    .topnav {
      overflow: hidden;
      background-color: #333;
      padding: 5px;
      width: 100%;
    }

    .topnav a {
      float: left;
      color: #f2f2f2;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    }

    .topnav a:hover {
      background-color: #ddd;
      color: black;
    }

    .topnav a.active {
      background-color: #4CAF50;
      color: white;
    }
    </style>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="model.js"></script>
  </head>
  <body style="background-color: #F9F9F9; font-family: Helvetica,Arial,sans-serif;">

    <div class="topnav">
      <a style="border-radius: 10px; margin: 2px;" href="./eveg.html">Home</a>
      <a style="border-radius: 10px; margin: 2px;" class="active" href="./shop.html">Shop</a>
      <a style="border-radius: 10px; margin: 2px;" href="./basket.html">Basket</a>
      <a style="border-radius: 10px; margin: 2px;" href="#support">Support</a>
    </div>

    <h1 style="color: green; margin-left: 40px; margin-top: 40px">Eveg Shop</h1>
    <form style="margin-bottom: 70px">
      <table>
        <script>
          var productDetails = getProductDetails();
          document.write('      <div style="">\n');
          for (var product in productDetails) {
            document.write('      <table style="padding:1%; background-color:white; border: 10px; border-radius:5px; width: 58%; margin: 30px; background-opacity:0.5;">\n');
            document.write('       <tr>\n');
            document.write('         <td style="width: 80px"><img src="img/' + productDetails[product]["image"] + '" / style="width: 80px; height: 80px;"></td>\n');
            document.write('         <td style="width: 80px; text-align: left; padding-left: 10px"><div>' + productDetails[product]["name"] +' '+ productDetails[product]["units"] + '</div></td>\n');
            document.write('         <td style="width:200px; padding-right: 20px;"><div style="padding-left: 10%;">' + productDetails[product]["description"] + '</div></td>\n');
            document.write('         <td style="width: 80px; padding-right: 50px;">' + productDetails[product]["price"] + 'Â£/' + productDetails[product]["units"] + '</td>\n');
            document.write('         <td style="width: 80px"><input name="' + product + '" id="' + product + '" type="text" placeholder="quantity e.g. 2" value="" style="width: 100px;" /></td>\n');
            document.write('         <td style="width: 80px"><input style="background-color: white; width: 120px; height: 30px; border-radius: 5px; color: green; font-size: 10px;" name="add' + product + '" type="button" value="Add to basket" onclick="javascript:addToBasket(\'' + product + '\', document.getElementById(\'' + product + '\').value)" /></td>\n');
            document.write('       </tr>\n');
            document.write('      </table>\n');
          }
          document.write('      </div>\n');
          document.write('       <tr>\n');
          document.write('         <td style="height: 40px;"></td>\n');
          document.write('       </tr>\n');
        </script>
      </table>
    </form>

    <div style="background-color: white; position: fixed; top: 80px; right: 80px; margin-top: 20px; padding:20px; padding-top: 10px; border: 2px solid #8FBC8F; border-radius: 10px; width: 25%">
      <h2 style="color: green;" >Current Bascket</h2>

      <table>
        <script>
          var basket = readBasket();
          var productDetails = getProductDetails();
          var totalPrice = 0;
          for (var product in productDetails) {
            if (basket[product] > 0) {
              var priceUnits = basket[product]*productDetails[product]["price"];
              totalPrice+=priceUnits;
              priceUnits = priceUnits.toFixed(2);
              document.write('      <tr>\n');
              document.write('         <td style="width: 120px; padding-right: 10px;">' + productDetails[product]["name"] +' '+ productDetails[product]["units"] + '</td>\n');
              document.write('         <td style="width: 80px;">' + basket[product] + '</td>\n');
              document.write('         <td style="width: 80px;">&pound;' + priceUnits + '</td>\n');
              document.write('       </tr>\n');
            }
          }
          document.write('      <tr><td><br><td></tr>\n')
          document.write('      <tr>\n');
          document.write('         <td style="width: 120px; padding-right: 10px;">Total to pay</td>\n');
          document.write('         <td style="width: 80px;"></td>\n');
          document.write('         <td style="width: 80px;">&pound;' + totalPrice.toFixed(2) + '</td>\n');
          document.write('       </tr>\n');
        </script>
        <tr>
          <td>
            <form style="padding-top: 30px">
              <input type="button" name="viewbasket" value="View Basket" onclick="document.location='basket.html'" style="background-color: #333; width: 120px; height: 30px;  border-radius: 7px; color: white; font-size: 15px"/>
            </form>
          </td>
          <td>
            <form style="padding-top: 30px">
              <input type="button" name="order" value="Order" onclick="document.location='order.html'" style="background-color: #333; width: 120px; height: 30px;  border-radius: 7px; color: white; font-size: 15px"/>
            </form>
          </td>
        </tr>
      </table>

    </div>
  </body>
</html>
